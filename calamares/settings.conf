---
modules-search: [ local, /usr/lib/calamares/modules ]

instances:
- id:       guardian_wifi
  module:   pythonqt
  config:   modules/guardian_wifi.conf
  
- id:       guardian_auth
  module:   pythonqt
  config:   modules/guardian_auth.conf
  
- id:       guardian_claim
  module:   pythonqt
  config:   modules/guardian_claim.conf
  
- id:       guardian_apply
  module:   shellprocess
  config:   modules/guardian_apply.conf

sequence:
- show:
  - welcome
  - locale
  - keyboard
  - partition
  - users
  - guardian_wifi@guardian_wifi
  - guardian_auth@guardian_auth
  - guardian_claim@guardian_claim
  - summary
- exec:
  - partition
  - mount
  - unpackfs
  - machineid
  - fstab
  - locale
  - keyboard
  - localecfg
  - luksbootkeyfile
  - luksopenswaphookcfg
  - users
  - displaymanager
  - networkcfg
  - hwclock
  - services-systemd
  - packages
  - guardian_apply@guardian_apply
  - grubcfg
  - bootloader
  - umount
- show:
  - finished

branding: guardian
prompt-install: true
dont-chroot: false
oem-setup: false
disable-cancel: false
disable-cancel-during-exec: false
hide-back-and-next-during-exec: false
quit-at-end: false
